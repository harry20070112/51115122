{"entries":[],"snapshots":[{"timestamp":1736953709316,"editorVersion":"7.0.57","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"qJvB3{^1l;)xyh(275=#\">線位置</variable><variable id=\"@t.dz.RC{JAoM!;Xa)Jo\">Error_P</variable><variable id=\"i%EQgp!vNEzfk0|+U|s`\">Error_D</variable><variable id=\";YwuBZ8Kx.t6fj%eZ/Ge\">Error_P_old</variable><variable id=\"]ccrS5EHHCfoj_yO+hdh\">PID_Val</variable><variable id=\"/XBBo+}cltT28L%VnATN\">紅外線IR5</variable><variable id=\"5QwXe*=A.z8P_/:iiXFs\">標記線計數</variable><variable id=\"LvaO%H8^0ZHA1a`+@QPe\">總標記線數量</variable><variable id=\"qK|[aR#,=G%z!9(?rbhx\">紅外線IR1</variable><variable id=\"`N34KA-DK3c.|a!):Wz:\">右邊紅外線狀態</variable><variable id=\"8g;rxVKmdID^*}zkstji\">左邊紅外線狀態</variable><variable id=\"L+`fkAF9r9s9h}-=/#7p\">中間紅外線狀態</variable><variable id=\"Fj?ln2!k)eDz5_4$fYJ4\">路口</variable><variable id=\"a%^:I=.%QgtsoX;|cx)c\">路口型態</variable><variable id=\"bwt$D7.oL(/do:4Fiy5i\">路口判斷結束</variable><variable id=\",G-^7C)MAv8r9.$X.:Xx\">紅外線IR2</variable><variable id=\"Jw*5#gXrBmZOh38I3nqt\">紅外線IR3</variable><variable id=\"b],5rysk1-X{_h.%t.#8\">紅外線IR4</variable><variable id=\"{f!}ythzvVcmXeb^C)[X\">基礎速度</variable><variable id=\"2FvlfyBUR@I.?+^t.maK\">kp</variable><variable id=\"QOI+`Dv`3bLK{@(O*3:P\">kd</variable><variable id=\"K:8{tX4[_b6={i8yzhY4\">找到終點</variable><variable id=\"!TvgL[]?w-ivmTrPRiPq\">終點時間</variable></variables></xml>","main.ts":"","README.md":"\n> 在 [https://22l5d5.github.io/51115123/](https://22l5d5.github.io/51115123/) 打開此頁面\n\n## 作為擴充功能使用\n\n可以在 MakeCode 中將此儲存庫新增為**擴充功能**。\n\n* 開啟 [https://makecode.microbit.org/](https://makecode.microbit.org/)\n* 按一下**新專案**\n* 按一下工具齒輪選單下的**擴充功能**\n* 搜索 **https://github.com/22l5d5/51115123** 並匯出\n\n## 編輯此專案\n\n編輯 MakeCode 中的儲存庫。\n\n* 開啟 [https://makecode.microbit.org/](https://makecode.microbit.org/)\n* 按一下**匯入**，然後按一下**匯入 URL**\n* 貼上 **https://github.com/22l5d5/51115123** 並按一下匯入\n\n#### 中繼資料 (用於搜索、渲染)\n\n* for PXT/microbit\n<script src=\"https://makecode.com/gh-pages-embed.js\"></script><script>makeCodeRender(\"{{ site.makecode.home_url }}\", \"{{ site.github.owner_name }}/{{ site.github.repository_name }}\");</script>\n","main.py":"標記線計數 = 0\n總標記線數量 = 14\n基礎速度 = 200\nkp = 250\nkd = 210\n紅外線IR1 = 0\n紅外線IR2 = 0\n紅外線IR4 = 0\n紅外線IR3 = 0\n紅外線IR5 = 0\nError_P_old = 0\nError_D = 0\nError_P = 0\nPID_Val = 0\n線位置 = 0\n終點時間 = 0\n找到終點 = 0\n中間紅外線狀態 = 0\n左邊紅外線狀態 = 0\n右邊紅外線狀態 = 0\n路口 = \"\"\n路口型態 = 0\n路口判斷結束 = 0\n# 設定PID控制器\ndef 設定PID控制器(基礎速度2: number, kp2: number, kd2: number):\n    global 線位置, Error_P, Error_D, Error_P_old, PID_Val\n    線位置 = BitRacer.read_line()\n    Error_P = 0 - 線位置\n    Error_D = Error_P - Error_P_old\n    Error_P_old = Error_P\n    PID_Val = Error_P * kp2 + Error_D * kd2\n    BitRacer.motor_run(BitRacer.Motors.M_R,\n        Math.constrain(基礎速度2 + PID_Val, -1000, 1000))\n    BitRacer.motor_run(BitRacer.Motors.M_L,\n        Math.constrain(基礎速度2 - PID_Val, -1000, 1000))\n# 偵測標記線的函式\ndef 判斷標記線():\n    global 標記線計數\n    if 紅外線IR1 > 1000 or 紅外線IR5 > 1000:\n        basic.pause(50)\n        標記線計數 += 1\n        # basic.showNumber(標記線計數); // 顯示當前標記線數量\n        # music.play(music.tonePlayable(988, music.beat(BeatFraction.Whole)), music.PlaybackMode.UntilDone);\n        # basic.showIcon(IconNames.No);\n        if 標記線計數 >= 總標記線數量:\n            # 到達最後一條標記線，停止動作\n            BitRacer.motor_run(BitRacer.Motors.ALL, 0)\n        else:\n            巡白線()\n# 讀取紅外線感應器的數值\ndef 讀取紅外線():\n    global 紅外線IR1, 紅外線IR2, 紅外線IR3, 紅外線IR4, 紅外線IR5\n    紅外線IR1 = BitRacer.read_ir2(1)\n    紅外線IR2 = BitRacer.read_ir2(2)\n    紅外線IR3 = BitRacer.read_ir2(3)\n    紅外線IR4 = BitRacer.read_ir2(4)\n    紅外線IR5 = BitRacer.read_ir2(5)\n# 主程式，用來巡線並偵測終點及標記線\n# 主程式，用來巡線並偵測終點及標記線\ndef 巡白線():\n    while 標記線計數 < 總標記線數量:\n        # 基礎速度和PID控制\n        設定PID控制器(基礎速度, kp, kd)\n        讀取紅外線()\n        # 如果 IR1 < 1000，就執行右轉\n        # 持續右轉的時間\n        if 紅外線IR1 > 1000:\n            BitRacer.motor_run(BitRacer.Motors.M_R, 基礎速度 - 50)\n            # 減速右側馬達\n            BitRacer.motor_run(BitRacer.Motors.M_L, 基礎速度 + 50)\n            # 加速左側馬達\n            basic.pause(200)\n        判斷標記線()\n        # 檢查標記線\n        if 標記線計數 >= 總標記線數量:\n            break\n# 按下 A 鍵後開始巡線\n# music.play(music.tonePlayable(988, music.beat(BeatFraction.Whole)), music.PlaybackMode.UntilDone);\n# basic.showIcon(IconNames.Square);\n# basic.clearScreen();\n\ndef on_button_pressed_a():\n    global 標記線計數\n    music.play(music.tone_playable(988, music.beat(BeatFraction.WHOLE)),\n        music.PlaybackMode.UNTIL_DONE)\n    basic.pause(1000)\n    # 找到終點 = 0;\n    標記線計數 = 0\n    巡白線()\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n","pxt.json":"{\n    \"name\": \"比賽的範例檔案（51115123)\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"BitRacer\": \"github:51135499/BitRacer#066fa557214aea79a82a79f73d2ddc5c665d3075\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"targetVersions\": {\n        \"target\": \"7.0.57\",\n        \"pxt\": \"9.0.12\",\n        \"targetId\": \"microbit\"\n    },\n    \"supportedTargets\": [\n        \"microbit\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n","test.ts":"// 在這裡測試；當此封包作為擴充功能時，將不會編譯此內容。\n"}}],"shares":[],"lastSaveTime":1736953709323}